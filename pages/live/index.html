<!DOCTYPE html>
<html lang="en">
<head>
    <!-- document stuff -->
    <title>Trellus | </title>

    <!-- get fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">



    <!-- css -->
    <link href="../../css/components.css", rel="stylesheet">
    <link href="../../css/layout.css", rel="stylesheet">
    <link href="./live.css", rel="stylesheet">
    
    <!-- javascript  -->
    <script src="live.js", type="module"></script>
</head>

<body class="dark-mode">
    <div class="main-body">
        <div class="coaching-main">

            <div class="main" id="recall-main">
                <div class="trellus-recording-header">
                    <div style="margin-left: 5px; margin-right: 5px;">Instant Recall</div>
                    <a href="https://app.trellus.ai/pages/react-app/#/analytics" target="_blank" style="text-decoration:none;"><div class="header-click-text">Click for past analytics</div></a>
                </div>
                <div class="panel-body">
                    <div class="weather" id="recall-info-main">
                        <div class="placeholder-text" id="recall-placeholder-text" >Checking for recall data...</div>
                    </div>
                </div>
            </div>

            <div class="main add-margin" id="local-main">
                <div class="trellus-recording-header">
                    <div style="margin-left: 5px; margin-right: auto;">Weather & News</div>
                </div>
                <div class="panel-body">
                    <div class="weather" id="weather-main">
                        <div class="placeholder-text" id="weather-placeholder-text" >Gathering weather data...</div>
                    </div>
                </div>
            </div>

            <div class="main add-margin" id="behavioral-main">
                <div class="trellus-recording-header">
                    <div style="margin-left: 5px; margin-right: auto;">Behavioral Coaching</div>
                </div>

                <div class="panel-body">
                    <div class='trellus-guidance'>
                        <div class='trellus-guidance-behavioral'>
                            <div id="buyingSignal" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="--value: 0"></div>
                            Meeting signal
                        </div>

                        <div class='trellus-guidance-behavioral' id='behavioral'>
                            <img class="behavioral-guidance-img" id="behavioral-guidance-img" src="../../images/great_work.png"/>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="main add-margin" id="objection-main">
                <div class="trellus-recording-header">    
                    <div style="margin-left: 5px; margin-right: 5px;" id="objection-header">Suggestions</div>
                    <a href="https://app.trellus.ai/pages/react-app/#/triggers" target="_blank" style="text-decoration:none;" id="customize-link"><div class="header-click-text">Click to customize</div></a>
                </div>
                <div class="panel-body">
                    <div id='objection' class='flexColumn'>
                        <div class="placeholder-text" id="objection-placeholder-text" >Listening for objections...</div>
                        <div id='objection-container' class='flexColumn'></div>
                    </div>
                </div>
            </div>

            <div class="main add-margin" id="auto-summary-main" style="display: none;">
                <div class="trellus-recording-header">
                    <div style="margin-left: 5px; margin-right: 5px;" id="auto-summary-header">Auto Summary</div>
                </div>
                <div class="panel-body">
                    <div id="auto-summary" class="flexColumn">
                        <div class="placeholder-text" id="auto-summary-placeholder-text" style="text-align: center;">Generating summary...<br/><img alt="loading dots" src="/images/loading.gif" /></div>
                        <div id="auto-summary-container" style="text-align: left;"></div>
                    </div>
                    <div id="auto-summary-buttons" style="text-align: right;">
                        <div id="auto-summary-copy-button" title="Copy to clipboard">
                            Copy to clipboard
                            <span class="button-icon">&#x1f4cb;</span>
                        </div>
                        <div id="auto-summary-inject-button" title="Copy to dialer notes">
                            Copy to dialer notes
                            <span class="button-icon">&#x1f4dd;</span>
                        </div>
                        <div id="auto-summary-reject-button" title="Not helpful">
                            Not helpful
                            <span class="button-icon">&#x1f44e;</span>
                        </div>
                    </div>
                </div>
            </div>


            <div class="main add-margin" id="transcript-panel">
                <div class="trellus-recording-header">    
                    <div style="margin-left: 5px; margin-right: 5px;" id="transcript-header">Transcript</div>
                    <a href="https://app.trellus.ai/pages/react-app/#/history" target="_blank" style="text-decoration:none;"><div class="header-click-text">Click for past transcripts</div></a>
                </div>
                <div class="panel-body" id="transcript-panel-inner">
                    <button type="button" id="auto-summary-request-button" class="new-feature" style="display: none;">Click to request AI summary</button>
                    <div class="trellus-recording-footer">
                        <div class="trellus-summary" id="trellus-summary"></div>
                    </div>
                    <div id="transcript-box-wrapper-outer">
                      <div id="transcript-box-wrapper-inner">
                        <div class="trellus-transcript-box" id="transcriptRoot">
                        </div>
                        <div class="star-div" style="bottom: 35px; position: relative;">
                            <span id="transcript-star" class="star-transcript">
                                &#9734;
                            </span>    
                        </div>
                    </div>
                </div>
                </div>
            </div>



            </div>
        </div>

        <div class="footer" id="footer">
            <div class="footer-arrangement">
                <div class="switch-div">
                    <label class="switch" id="switch">
                        <input type="checkbox" checked id="realtimeEnabled">
                        <span class="slider round"></span>
                        <div class='compliance-text'>Make sure to follow all state/local call recording laws and inform participants where required.</div>
                    </label>
                    <div class="enabledText" id="realtimeEnabledText">
                        Coaching Enabled
                    </div>
                </div>

                <div style="display: flex; flex-direction: column">
                    <button class='copy-button' style="margin: 5px" type="button" id="copyButton">
                        <div style="display: flex; flex-direction: row;">
                            <div style="width:10px; height:10px; margin-right: 5px;">
                                <svg viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 1C2.34315 1 1 2.34315 1 4V15V16H2H6.33333V14H3V4C3 3.44772 3.44772 3 4 3H14V6.33333H16V2V1H15H4ZM9 8H8V9V22V23H9H20C21.6569 23 23 21.6569 23 20V9V8H22H9ZM10 21V10H21V20C21 20.5523 20.5523 21 20 21H10Z" fill="currentColor"></path></svg>
                            </div>
                            <div id="copyText" class="copy-text">app.trellus.ai/install</div>
                        </div>
                        <div class='share-text' id="shareText">Click to copy</div>
                    </button>

                    <button onclick="location.href='https://6d142b93t9r.typeform.com/to/LLo8QAWp';" class='copy-button' style="margin: 5px;" type="button" id="bugButton">
                        <div style="display: flex; flex-direction: row; justify-content: center;">
                            <div id="bugText" class="copy-text">Report a bug</div>
                        </div>        
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="toast-container">
        <div id="toast"></div>
    </div>
</body>
